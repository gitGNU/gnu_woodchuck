

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Woodchuck &mdash; Woodchuck v0.2 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Woodchuck v0.2 documentation" href="index.html" />
    <link rel="next" title="org.woodchuck" href="org.woodchuck.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="org.woodchuck.html" title="org.woodchuck"
             accesskey="N">next</a> |</li>
        <li><a href="#">Woodchuck v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="woodchuck">
<h1>Woodchuck<a class="headerlink" href="#woodchuck" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
<div class="section" id="background">
<h1>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h1>
<p>Mobile devices promise to keep users connected.  Yet, limited energy,
data-transfer allowances, and cellular coverage reveal this assurance
to be more a hope than a guarantee.  This situation can be improved by
increasing battery capacity, providing more generous data-transfer
allowances, and expanding cellular coverage.  We propose an
alternative: modifying software to more efficiently use the available
resources.  In particular, many applications exhibit flexibility in
when they must transfer data.  For example, podcast managers can
prefetch podcasts and photo sharing services can delay uploads until
good conditions arise.  More generally, applications that operate on
data streams often have significant flexibility in when they update
the stream.</p>
<p>More efficiently managing the available energy, the user&#8217;s
data-transfer allowance and data availability can improve the user
experience.  Increasing battery life raises the user&#8217;s confidence that
a charge will last the whole day, even with intense use.
Alternatively, a smaller battery can be used decreasing the device&#8217;s
monetary cost as well as its weight and size.  Explicitly managing the
data-transfer allowance enables users to choose less expensive data
plans without fearing that the allowance will be exceeded, which may
result in expensive overage fees and bill shock, a common occurrence
in the US.  Finally, accounting for availability by, e.g., prefetching
data, hides spotty and weak network coverage and user-perceived
latency is reduced.</p>
<p>We have encountered two main challenges to exploiting scheduling
flexibility in data streams: predicting needed data and coordinating
resource consumption.  First, applications need to predict when and
what to prefetch.  Consider Alice, who listens to the latest episode
of the hourly news on her 5 PM commute home.  A simple policy
prefetches episodes as they are published.  As Alice only listens to
the 4 PM or 5 PM episode, downloading episodes as they are published
wastes energy and her data-transfer allowance.  An alternative policy
prefetches when power and WiFi are available, typically overnight.
But, Alice wants the latest episode on her commute home, not the one
from 6 AM.  The scheduling algorithm needs to learn when and how Alice
(the individual, not an aggregate model) uses data streams.  The
second challenge is coordinating the use of available resources.  In
particular, the data-transfer allowance and local storage must be
partitioned between the applications and the user.  This management
should not interfere with the user by, e.g., exhausting the transfer
allowance so that the user cannot surf the web, or causing an
out-of-space error to occur when the user saves files.  Further, the
allocations should adapt to the user&#8217;s changing preferences.</p>
<p>Research on scheduling transmissions on smart phones has focused on
reducing energy consumption by predicting near-term conditions.
Bartendr delays transmissions until the signal strength is likely
strong; TailEndr groups transmissions to amortizes energy costs;
BreadCrumbs, among others, predicts WiFi availability to reduce energy
spent needlessly scanning.  contextual deadline, as predicted from
observed user behavior.  We also consider the cellular
data-transmission allowance, which is an increasingly common
constraint.  Further, because we enable aggressive prefetching, we
consider how to manage storage.  Given multimedia data access patterns
in which subscribed to data is used at most once, common replacement
techniques, such as LRU, perform poorly.</p>
<p>In short, Woodchuck enables better scheduling of background
data-stream updates to save energy, to make better use of
data-transfer allowances, to improve disconnected operation, and to
hide data-access latencies, all of which advance our ultimate goal of
improving the user experience.  To use Woodchuck, applications provide
simple descriptions of transmission tasks.  Woodchuck uses these and
<em>predictions</em> of when, where and how data will be used based on
application-input and historical data as well as when streams will be
updated to schedule the requests so as to minimize battery use, to
respect any data-transmission allowance, and to maximize the
likelihood that data that the user accesses is available.  We also
consider how to <em>manage storage</em> for holding prefetched data.</p>
</div>
<div class="section" id="programming-model">
<h1>Programming Model<a class="headerlink" href="#programming-model" title="Permalink to this headline">¶</a></h1>
<p>Before detailing Woodchuck&#8217;s API, we provide a brief introduction to
Woodchuck&#8217;s main concepts and some case studies of how we envision
some applications could exploit Woodchuck.</p>
<p>Woodchuck&#8217;s model is relatively simple: there are managers, streams
and objects.  A manager represents an application (e.g., a podcast
client).  It contains streams.  A stream represents a data source
(e.g., a podcast feed).  It references objects.  An object represents
some chunk of data (e.g., a podcast).  Typically, users explicitly
subscribe to a stream.  The stream are regularly updated to discover
new objects, which may be downloaded when convenient.</p>
<p>Managing the various object types is straightforward.  An application
registers a manager by calling ManagerRegister.  Given a manager, the
application registers streams using manager.StreamRegister.
Similarly, an application registers objects with a stream using
stream.ObjectRegister.</p>
<p>Associated with each object (Manager, Stream or Object) is a UUID and
a cookie.  The UUID uniquely identifies the object.  The cookie is a
free-form string that is uninterpreted by Woodchuck.  It can be used
by an application to store a database key or URL.  This appears to
greatly simplify the changes to the application as it eliminates the
need for the application to manage a map between Woodchuck&#8217;s UUIDs and
local stream and object identifiers.</p>
<p>Woodchuck makes an upcall, StreamUpdate and ObjectDownload, to the
application when the application should update a stream or download an
object, respecitvely.  After updating a stream, the application
invokes stream.UpdateStatus and registers any newly discovered objects
using stream.ObjectRegister.  ObjectDownload tells the application to
download an object.  After attempting the download, the application
responds by calling object.DownloadStatus.</p>
<p>When a user uses an object, an application can report this to
Woodchuck using object.Used.  The application can include a bitmask
representing the portions of the object that were used.  This assumes
that there is some serial representation as is the case with videos
and books.</p>
<p>When space becomes scarce, Woodchuck can delete files.  When an
application registers an object, it can include a deletion policy,
which indicates whether the object is precious and may only be deleted
by the user, whether Woodchuck may delete it without consulting the
application, or whether to ask the application to delete the object.
In the last case, Woodchuck uses the ObjectDeleteFiles upcall.  The
application responds using Object.FilesDeleted indicating either: the
object has been deleted; the object should be preserved for at least X
seconds longer; or, the object has been shrunk.  Shrinking an object
is useful for data like email where an email&#8217;s bulky attachments can
be purged while still retaining the body.</p>
<p>One thing that I have not yet considered is an interface to allow
applications to implement custom deletion policies.  Although an
application can delete a file at any file and communicate this to
Woodchuck using the object.FilesDeleted interface, there is currently
no mechanism for an application to say: &#8220;Tell me when there is storage
pressure and I&#8217;ll find the best files to delete.&#8221;</p>
<div class="section" id="case-studies">
<h2>Case Studies<a class="headerlink" href="#case-studies" title="Permalink to this headline">¶</a></h2>
<p>To evaluate the applicability of the model, I&#8217;ve been using a few case
studies: podcasts, blogs, weather and package repository updates.
(Email and calendaring are similar to podcasts.  Social networking
(facebook, twitter, flickr) appears to be hybrid of podcasts and
blogs.)</p>
<div class="section" id="podcast-manager">
<h3>Podcast Manager<a class="headerlink" href="#podcast-manager" title="Permalink to this headline">¶</a></h3>
<p>A podcast manager fits the proposed model very well.  The podcast
application registers one stream for each podcast subscription.  When
it updates a stream, it registers each new podcast episode as a
Woodchuck object.  When a podcast is viewed or listened to, it is easy
to determine which parts were used.</p>
</div>
<div class="section" id="blog-reader">
<h3>Blog Reader<a class="headerlink" href="#blog-reader" title="Permalink to this headline">¶</a></h3>
<p>A blog reader is similar to the podcast application: a subscription
cleanly maps to Woodchuck&#8217;s stream concept and articles to Woodchuck&#8217;s
object.  Unlike the podcast application, new objects are typically
transferred inline as part of a stream update.  That is, a stream
update consists not of an enumeration of new objects and references,
but the objects&#8217; contents.  When such an application updates a stream,
it registers new objects as usual and also marks them as having been
downloaded.</p>
<p>It should be relatively easy for Woodchuck to detect that the objects
were delivered inline: the download time is the same as the stream
update time.  Nevertheless, I&#8217;ve exposed a stream property named
stream.ObjectsMostInline, which an application can set if it expects
this behavior.</p>
<p>Determining use for the application is also relatively
straightforward: when an article is viewed, it has been used.  It is
possible to infer partial use for longer articles where scrolling is
required.  If the blog reader displays blogs using a continuous reader
(like Google Reader), then this won&#8217;t work, but it is still possible
for the application to infer use based on how fast the user scrolls.</p>
</div>
<div class="section" id="package-repository-updates">
<h3>Package Repository Updates<a class="headerlink" href="#package-repository-updates" title="Permalink to this headline">¶</a></h3>
<p>At first glance, managing a package repository looks like managing
podcasts.  Unlike the podcast manager, prefetching most applications
is useless: few users install more than dozens of applications.  The
few packages it makes sense to prefetch are updates to installed
packages.  Woodchuck can&#8217;t distinguish these on its own.  It is
possible to teach Woodchuck this by way of object&#8217;s priority property
(<em>org.woochuck.object.Priority</em>).  The application manager would then
set this to high (e.g., 10) for packages that are installed and low
(e.g., 1) for packages that are not installed.  Woodchuck learns to
trust the application based on actual use.</p>
<p>An alternative, planned approach is to provide a mechanism that allows
applications to implement their own scheduling strategy.  This can be
down by having Woodchuck make an upcall indicating that the
application should fetch the X MBs of most useful data.</p>
<p>If it turns out there are too many packages, just register those for
which prefetching makes sense.  But, always report the number of
actually downloaded packages when calling
<em>org.woochuck.stream.UpdateStatus</em>.</p>
</div>
<div class="section" id="weather">
<h3>Weather<a class="headerlink" href="#weather" title="Permalink to this headline">¶</a></h3>
<p>The weather application is quite different from the podcast and blog
applications.  Most people, I think, are interested in monitoring a
few locations at most, e.g., Baltimore and San Jose.  In this case,
the stream is not a series of immutable objects, but a series of
object updates for a single object.</p>
<p>The best approach is to represent weather updates as a stream.
Updating the stream means getting the latest weather.  But then, the
stream appears to have no objects.  How do we track use?  What about
publication time?  One solution is that after each update, the
application creates a new object and marks it as having been
downloaded.  The application should not register missed updates.
Mostly likely it doesn&#8217;t even know how frequently the weather is
updated.  To indicate that a new update is available, create a new
object.  If the update is only available in the future, set the
object&#8217;s TriggerEarliest property appropriately
(<em>org.woochuck.object.TriggerEarliest</em>).</p>
</div>
</div>
</div>
<div class="section" id="dbus-interface">
<h1>DBus Interface<a class="headerlink" href="#dbus-interface" title="Permalink to this headline">¶</a></h1>
<p>Woodchuck exposes its functionality via DBus.  Applications, however,
do not need to use this low-level interface.  Instead, there is a C
library that wraps Woodchuck&#8217;s functionality and Python modules.
<strong>Application developers can ignore this section</strong> and read just about
the interface they are interested in and only refer to this chapter
for additional details, as required.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="org.woodchuck.html">org.woodchuck</a></li>
<li class="toctree-l1"><a class="reference internal" href="org.woodchuck.manager.html">org.woodchuck.manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="org.woodchuck.stream.html">org.woodchuck.stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="org.woodchuck.object.html">org.woodchuck.object</a></li>
<li class="toctree-l1"><a class="reference internal" href="org.woodchuck.upcall.html">org.woodchuck.upcall</a></li>
</ul>
</div>
</div>
<div class="section" id="c-library">
<h1>C Library<a class="headerlink" href="#c-library" title="Permalink to this headline">¶</a></h1>
<p>The C library provides a more convenient interface to access
Woodchuck&#8217;s functionality than the low-level DBus interface.  To do
so, it makes a few assumption about how the streams and objects are
managed.  In particular, it assumes that a single application uses the
specified manager and that it does so in a particular way.  First, it
assumes that the application only uses a top-level manager;
hierarchical managers are not supported.  It also assumes that streams
and objects are uniquely identified by their respective cookies
(thereby allowing the use of
<a class="reference internal" href="org.woodchuck.html#org.woodchuck.LookupManagerByCookie" title="org.woodchuck.LookupManagerByCookie"><tt class="xref py py-func docutils literal"><span class="pre">org.woodchuck.LookupManagerByCookie()</span></tt></a>).  For most applications,
these limitations should not present a burden.</p>
<p>The C library currently only works with programs using the <a class="reference external" href="http://developer.gnome.org/glib/">glib</a>
mainloop and the gobject object system.</p>
<p>The C library is currently only documented in the header files
&lt;<a class="reference external" href="http://hssl.cs.jhu.edu/~neal/woodchuck/src/branches/master/include/woodchuck/woodchuck.h.raw.html">woodchuck/woodchuck.h</a>&gt; and &lt;<a class="reference external" href="http://hssl.cs.jhu.edu/~neal/woodchuck/src/branches/master/include/woodchuck/gwoodchuck.h.raw.html">woodchuck/gwoodchuck.h</a>&gt;.  Please
refer to it for reference.  Note, however, that the interface is very
similar to the <tt class="xref py py-class docutils literal"><span class="pre">PyWoodchuck</span></tt> interface.</p>
</div>
<div class="section" id="python-modules">
<h1>Python Modules<a class="headerlink" href="#python-modules" title="Permalink to this headline">¶</a></h1>
<p>There are two python modules for interacting with a Woodchuck server:
<em>pywoodchuck</em> and <em>woodchuck</em>.  <em>pywoodchuck</em> is a high-level module,
which provides a Pythonic interface.  It hides a fair amount of
complexity while sacrificing only a small amount of functionality.  It
is recommended for most applications.  The <em>woodchuck</em> module is a
thin wrapper on top of the DBus interface.</p>
<div class="section" id="pywoodchuck">
<h2>pywoodchuck<a class="headerlink" href="#pywoodchuck" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="xref py py-mod docutils literal"><span class="pre">pywoodchuck</span></tt> module provides a high-level Pythonic
interface to Python.</p>
<div class="section" id="id1">
<h3>PyWoodchuck<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pywoodchuck.PyWoodchuck">
<em class="property">class </em><tt class="descclassname">pywoodchuck.</tt><tt class="descname">PyWoodchuck</tt><big>(</big><em>human_readable_name</em>, <em>dbus_service_name</em>, <em>request_feedback=True</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck" title="Permalink to this definition">¶</a></dt>
<dd><p>A high-level interface to Woodchuck.</p>
<p>Woodchuck provides the application developer with</p>
<p>This module assumes that a single application uses the specified
manager and that it does so in a particular way.  First, it
assumes that the application only uses a top-level manager;
hierarchical managers are not supported.  It also assumes that
streams and objects are uniquely identified by their respective
cookies (thereby allowing the use of
<tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.lookup_manager_by_cookie()</span></tt>).  For most
applications, these limitations should not present a burden.</p>
<p>If applications violate these assumptions, e.g., by manipulating
the manager in an incompatible way using a low-level interface,
PyWoodchuck may refuse to work with the manager.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In order to process upcalls, <strong>your application must use a
main loop</strong>.  Moreover, DBus must know about the main loop.
If you are using glib, <strong>before accessing the session bus</strong>,
run:</p>
<blockquote>
<div>from dbus.mainloop.glib import DBusGMainLoop
DBusGMainLoop(set_as_default=True)</div></blockquote>
<p>or, if you are using Qt, run:</p>
<blockquote class="last">
<div>from dbus.mainloop.qt import DBusQtMainLoop
DBusQtMainLoop(set_as_default=True)</div></blockquote>
</div>
<p>Registers the application with Woodchuck, if not already
registered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">Params human_readable_name:</th></tr>
<tr><td>&nbsp;</td><td class="field-body"><p class="first">A string that can be shown to the
user that identifies the application.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dbus_service_name</strong> &#8211; The application&#8217;s DBus service name,
e.g., org.application.  This must be unique among all
top-level Woodchuck managers.  (This is also used as the
underlying manager&#8217;s cookie.)  This is used by Woodchuck
to start the application if it is not running by way of
<tt class="xref py py-func docutils literal"><span class="pre">org.freedesktop.DBus.StartServiceByName()</span></tt>.</li>
<li><strong>request_feedback</strong> &#8211; Whether to request feedback, i.e.,
upcalls.  If you say no here, you (currently) can&#8217;t later
enable them.  If you enable upcalls, you must use a
mainloop.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: if upcalls are not required:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;RSS Reader&quot;</span><span class="p">,</span> <span class="s">&quot;org.rssreader&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Example: if you are interested in the <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_cb" title="pywoodchuck.PyWoodchuck.stream_update_cb"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_cb()</span></tt></a>
and <a class="reference internal" href="#pywoodchuck.PyWoodchuck.object_download_cb" title="pywoodchuck.PyWoodchuck.object_download_cb"><tt class="xref py py-func docutils literal"><span class="pre">object_download_cb()</span></tt></a> upcalls:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>

<span class="k">class</span> <span class="nc">mywoodchuck</span> <span class="p">(</span><span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">stream_update_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream_identifier</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;stream update called on </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">stream_identifier</span><span class="p">,)</span>
    <span class="k">def</span> <span class="nf">object_download_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                           <span class="n">stream_identifier</span><span class="p">,</span> <span class="n">object_identifier</span><span class="p">,</span>
                           <span class="n">version</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">quality</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;object download called on </span><span class="si">%s</span><span class="s"> in stream </span><span class="si">%s</span><span class="s">&quot;</span> \
            <span class="o">%</span> <span class="p">(</span><span class="n">object_identifier</span><span class="p">,</span> <span class="n">stream_identifier</span><span class="p">);</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">mywoodchuck</span><span class="p">(</span><span class="s">&quot;RSS Reader&quot;</span><span class="p">,</span> <span class="s">&quot;org.rssreader&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.stream_register">
<tt class="descname">stream_register</tt><big>(</big><em>stream_identifier</em>, <em>human_readable_name</em>, <em>freshness=0</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.stream_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new stream with Woodchuck.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; A free-form string, which is
uninterpreted by the server and provided on upcalls (this
is the stream&#8217;s cookie).  It must uniquely identify the
stream within the application.  It can be an application
specific key, e.g., the URL of an RSS feed.</li>
<li><strong>human_readable_name</strong> &#8211; A string that can be shown to the
user and which should unambiguously identify the stream
<em>in the context of the application</em>.  If the &#8220;Foo Email
Client&#8221; manages a single inbox, setting
human_readable_name to &#8220;Inbox&#8221; is sufficient for the user
to identify the stream; &#8220;Foo Email Client: Inbox&#8221; is
unnecessarily long as &#8220;Foo Email Client&#8221; is redundant.</li>
<li><strong>freshness</strong> &#8211; A hint to Woodchuck indicating approximately
how often the stream should be updated, in seconds.
(Practically, this means how often
<a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_cb" title="pywoodchuck.PyWoodchuck.stream_update_cb"><tt class="xref py py-func docutils literal"><span class="pre">PyWoodchuck.stream_update_cb()</span></tt></a> will be called.)
Woodchuck interprets 0 as meaning there are no freshness
requirements and it is completely free to choose when to
update the stream.  A value of <a class="reference internal" href="#pywoodchuck.never_updated" title="pywoodchuck.never_updated"><tt class="xref py py-data docutils literal"><span class="pre">never_updated</span></tt></a> is
interpretted as meaning that the stream is never updated
and thus calling.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="c"># For exception classes.</span>
<span class="kn">import</span> <span class="nn">woodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;RSS Reader&quot;</span><span class="p">,</span> <span class="s">&quot;org.rssreader&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&#39;http://feeds.boingboing.net/boingboing/iBag&#39;</span><span class="p">,</span>
                      <span class="s">&#39;BoingBoing&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">woodchuck</span><span class="o">.</span><span class="n">ObjectExistsError</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Stream already registered:&quot;</span><span class="p">,</span> <span class="n">exception</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_unregister</span> <span class="p">(</span><span class="s">&#39;http://feeds.boingboing.net/boingboing/iBag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.streams_list">
<tt class="descname">streams_list</tt><big>(</big><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.streams_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List all streams managed by this application.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">Returns an array of [<cite>stream_identifier</cite>,
<cite>human_readable_name</cite>].</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;Application&quot;</span><span class="p">,</span> <span class="s">&quot;org.application&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">stream_identifier</span><span class="p">,</span> <span class="n">human_readable_name</span><span class="p">)</span> <span class="ow">in</span> <span class="n">w</span><span class="o">.</span><span class="n">streams_list</span> <span class="p">():</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">human_readable_name</span><span class="p">,</span> <span class="n">stream_identifier</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.stream_updated">
<tt class="descname">stream_updated</tt><big>(</big><em>stream_identifier</em>, <em>indicator=0</em>, <em>transferred_up=None</em>, <em>transferred_down=None</em>, <em>download_time=None</em>, <em>download_duration=None</em>, <em>new_objects=None</em>, <em>updated_objects=None</em>, <em>objects_inline=None</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.stream_updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell Woodchuck that a stream has been successfully updated.
Call this function whenever the stream is successfully
updated, not only in response to a <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_cb" title="pywoodchuck.PyWoodchuck.stream_update_cb"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_cb()</span></tt></a>
upcall.  If a stream update fails, this should be reported
using <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_failed" title="pywoodchuck.PyWoodchuck.stream_update_failed"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_failed()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>indicator</strong> &#8211; What indicators, if any, were shown to the
user indicating that the stream was updated.  A bit-wise
mask of <a class="reference internal" href="#woodchuck.Indicator" title="woodchuck.Indicator"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.Indicator</span></tt></a>.  Default: None.</li>
<li><strong>transferred_up</strong> &#8211; The number of bytes uploaded.  If not
known, set to None.  Default: None.</li>
<li><strong>transferred_down</strong> &#8211; The number of bytes downloaded.  If
not known, set to None.  Default: None.</li>
<li><strong>download_time</strong> &#8211; The time at which the update was started
(in seconds since the epoch).  If not known, set to None.
Default: None.</li>
<li><strong>download_duration</strong> &#8211; The amount of time the update took,
in seconds.  If not known, set to None.  Default: None.</li>
<li><strong>new_objects</strong> &#8211; The number of newly discovered objects.  If
not known, set to None.  Default: None.</li>
<li><strong>updated_objects</strong> &#8211; The number of objects with updates.
If not known, set to None.  Default: None.</li>
<li><strong>objects_inline</strong> &#8211; The number of objects whose content was
delivered inline, i.e., with the update.  If not known,
set to None.  Default: None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example of reporting a stream update for which five new
objects were discovered and all of which were delivered
inline:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;Application&quot;</span><span class="p">,</span> <span class="s">&quot;org.application&quot;</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span> <span class="s">&#39;human_readable_name&#39;</span><span class="p">)</span>

<span class="n">download_time</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span>
<span class="o">...</span>
<span class="c"># Perform the download</span>
<span class="o">...</span>
<span class="n">download_duration</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span> <span class="o">-</span> <span class="n">download_time</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_updated</span> <span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span>
                  <span class="n">transferred_up</span><span class="o">=</span><span class="mi">2048</span><span class="p">,</span>
                  <span class="n">transferred_down</span><span class="o">=</span><span class="mi">64000</span><span class="p">,</span>
                  <span class="n">download_time</span><span class="o">=</span><span class="n">download_time</span><span class="p">,</span>
                  <span class="n">download_duration</span><span class="o">=</span><span class="n">download_duration</span><span class="p">,</span>
                  <span class="n">new_objects</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">objects_inline</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The five new objects should immediately be
registered using <a class="reference internal" href="#pywoodchuck.PyWoodchuck.object_register" title="pywoodchuck.PyWoodchuck.object_register"><tt class="xref py py-func docutils literal"><span class="pre">object_register()</span></tt></a> and marked as
downloaded using <a class="reference internal" href="#pywoodchuck.PyWoodchuck.object_downloaded" title="pywoodchuck.PyWoodchuck.object_downloaded"><tt class="xref py py-func docutils literal"><span class="pre">object_downloaded()</span></tt></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.stream_update_failed">
<tt class="descname">stream_update_failed</tt><big>(</big><em>stream_identifier</em>, <em>reason</em>, <em>transferred_up=None</em>, <em>transferred_down=None</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.stream_update_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell Woodchuck that a stream update failed.  Call this
function whenever a stream update is attempted, not only in
response to a <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_cb" title="pywoodchuck.PyWoodchuck.stream_update_cb"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_cb()</span></tt></a> upcall.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>reason</strong> &#8211; The reason the update failed.  Taken from
<a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DownloadStatus</span></tt></a>.</li>
<li><strong>transferred_up</strong> &#8211; The number of bytes uploaded.  If not
known, set to None.  Default: None.</li>
<li><strong>transferred_down</strong> &#8211; The number of bytes downloaded.  If
not known, set to None.  Default: None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example of reporting a failed stream update:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="kn">import</span> <span class="nn">woodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;Application&quot;</span><span class="p">,</span> <span class="s">&quot;org.application&quot;</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span> <span class="s">&#39;human_readable_name&#39;</span><span class="p">)</span>

<span class="o">...</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_update_failed</span> <span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span>
                        <span class="n">woodchuck</span><span class="o">.</span><span class="n">DownloadStatus</span><span class="o">.</span><span class="n">TransientNetwork</span><span class="p">,</span>
                        <span class="n">transferred_up</span><span class="o">=</span><span class="mi">1038</span><span class="p">,</span>
                        <span class="n">transferred_down</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.stream_unregister">
<tt class="descname">stream_unregister</tt><big>(</big><em>stream_identifier</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.stream_unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister the indicated stream and any containing objects.
This just causes Woodchuck to become unaware of the stream and
delete any metadata about it; this does not actually remove
any objects&#8217; files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</td>
</tr>
</tbody>
</table>
<p>Example: See <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_register" title="pywoodchuck.PyWoodchuck.stream_register"><tt class="xref py py-func docutils literal"><span class="pre">stream_register()</span></tt></a> for an example use of
this function.</p>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_register">
<tt class="descname">object_register</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>human_readable_name</em>, <em>download_frequency=None</em>, <em>expected_size=None</em>, <em>versions=None</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.  This must
be unique among all object&#8217;s in the same stream.</li>
<li><strong>human_readable_name</strong> &#8211; A human readable name that can be
shown to the user, which is unambiguous in the context of
the stream.</li>
<li><strong>download_frequency</strong> &#8211; How often the object should be
downloaded.  If 0 or None, this is a one-shot download.
Default: None.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Expected_size :</th><td class="field-body"><p class="first">The expected size of the download, in bytes.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Versions :</th><td class="field-body"><p class="first last">An array of [<cite>URL</cite>, <cite>expected_size</cite>, <cite>utility</cite>,
use_simple_downloader`] specifying alternate versions of
the object.  <cite>expected_size</cite> is the expected size of the
download, in bytes.  <cite>utility</cite> is the utility of this
version relative to other versions.  The utility is
assumed to be a linear function, i.e.,a version with 10
has twice as much value as another version with 5.
<cite>use_simple_downloader</cite> is a boolean indicating whether
Woodchuck should use its simple downloader to fetch the
object.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The caller may provide either <cite>expected_size</cite> or
<cite>versions</cite>, but not both.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.objects_list">
<tt class="descname">objects_list</tt><big>(</big><em>stream_identifier</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.objects_list" title="Permalink to this definition">¶</a></dt>
<dd><p>List the objects in a stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">Returns an array of [<cite>object_identifier</cite>,
<cite>human_readable_name</cite>].</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;Application&quot;</span><span class="p">,</span> <span class="s">&quot;org.application&quot;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span> <span class="s">&#39;human_readable_name&#39;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">object_register</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span>
                  <span class="s">&#39;object 1&#39;</span><span class="p">,</span> <span class="s">&#39;human_readable_name 1&#39;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">object_register</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span>
                  <span class="s">&#39;object 2&#39;</span><span class="p">,</span> <span class="s">&#39;human_readable_name 2&#39;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">object_register</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span>
                  <span class="s">&#39;object 3&#39;</span><span class="p">,</span> <span class="s">&#39;human_readable_name 3&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span><span class="n">object_identifier</span><span class="p">,</span> <span class="n">human_readable_name</span><span class="p">)</span> \
    <span class="ow">in</span> <span class="n">w</span><span class="o">.</span><span class="n">objects_list</span> <span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">human_readable_name</span><span class="p">,</span> <span class="n">object_identifier</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">object_unregister</span><span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">,</span> <span class="s">&#39;object 2&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span><span class="n">object_identifier</span><span class="p">,</span> <span class="n">human_readable_name</span><span class="p">)</span> \
    <span class="ow">in</span> <span class="n">w</span><span class="o">.</span><span class="n">objects_list</span> <span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">human_readable_name</span><span class="p">,</span> <span class="n">object_identifier</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_unregister</span> <span class="p">(</span><span class="s">&#39;stream identifier&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_unregister">
<tt class="descname">object_unregister</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister the indicated object.  This just causes
Woodchuck to become unaware of the object and delete any
associated metadata; this does not actually remove any of the
object&#8217;s files.</p>
<p>See <a class="reference internal" href="#pywoodchuck.PyWoodchuck.objects_list" title="pywoodchuck.PyWoodchuck.objects_list"><tt class="xref py py-func docutils literal"><span class="pre">objects_list()</span></tt></a> for an example use of this function.</p>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_downloaded">
<tt class="descname">object_downloaded</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>indicator=None</em>, <em>transferred_up=None</em>, <em>transferred_down=None</em>, <em>download_time=None</em>, <em>download_duration=None</em>, <em>object_size=None</em>, <em>files=None</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_downloaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell Woodchuck that an object was successfully downloaded.</p>
<p>Call this function whenever a stream update is attempted, not
only in response to a <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_cb" title="pywoodchuck.PyWoodchuck.stream_update_cb"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_cb()</span></tt></a> upcall.</p>
<p>If the object is not yet registered, registers it with its
<cite>human_readable_name</cite> set to <cite>object_identifier</cite> and the
download frequnecy set to 0, i.e., as a one-shot download.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indicator</strong> &#8211; What indicators, if any, were shown to the
user indicating that the stream was updated.  A bit-wise
mask of <a class="reference internal" href="#woodchuck.Indicator" title="woodchuck.Indicator"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.Indicator</span></tt></a>.  Default: None.</li>
<li><strong>transferred_up</strong> &#8211; The number of bytes uploaded.  If not
known, set to None.  Default: None.</li>
<li><strong>transferred_down</strong> &#8211; The number of bytes downloaded.  If
not known, set to None.  Default: None.</li>
<li><strong>download_time</strong> &#8211; The time at which the update was started
(in seconds since the epoch).  If not known, set to None.
Default: None.</li>
<li><strong>download_duration</strong> &#8211; The amount of time the update took,
in seconds.  If not known, set to None.  Default: None.</li>
<li><strong>object_size</strong> &#8211; The resulting on-disk size of the object,
in bytes.  Pass None if unknown.  Default: None.</li>
<li><strong>files</strong> &#8211; An array of [<cite>filename</cite>, <cite>dedicated</cite>,
<cite>deletion_policy</cite>] arrays.  <cite>filename</cite> is the name of a
file that contains data from this object; <cite>dedicated</cite> is a
boolean indicating whether this file is dedicated to the
object (True) or shared with other objects (False);
<cite>deletion_policy</cite> is drawn from woodchuck.DeletionPolicy
and indicates this file&#8217;s deletion policy.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="kn">import</span> <span class="nn">woodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;Podcasts&quot;</span><span class="p">,</span> <span class="s">&quot;org.podcasts&quot;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&quot;http://podcast.site/podcasts/SomePodcast.rss&quot;</span><span class="p">,</span>
                  <span class="s">&quot;Some Podcast&quot;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">object_register</span><span class="p">(</span>
    <span class="s">&quot;http://podcast.site/podcasts/SomePodcast.rss&quot;</span><span class="p">,</span>
    <span class="s">&quot;http://podcast.site/podcasts/SomePodcast/Episode-15.ogg&quot;</span><span class="p">,</span>
    <span class="s">&quot;Episode 15: Title&quot;</span><span class="p">)</span>

<span class="o">...</span>

<span class="n">w</span><span class="o">.</span><span class="n">object_downloaded</span> <span class="p">(</span>
    <span class="s">&quot;http://podcast.site/podcasts/SomePodcast.rss&quot;</span><span class="p">,</span>
    <span class="s">&quot;http://podcast.site/podcasts/SomePodcast/Episode-15.ogg&quot;</span><span class="p">,</span>
    <span class="n">indicator</span><span class="o">=</span><span class="p">(</span><span class="n">woodchuck</span><span class="o">.</span><span class="n">Indicator</span><span class="o">.</span><span class="n">ApplicationVisual</span>
               <span class="o">|</span><span class="n">woodchuck</span><span class="o">.</span><span class="n">Indicator</span><span class="o">.</span><span class="n">DesktopSmallVisual</span>
               <span class="o">|</span><span class="n">woodchuck</span><span class="o">.</span><span class="n">Indicator</span><span class="o">.</span><span class="n">ObjectSpecific</span><span class="p">),</span>
    <span class="n">transferred_up</span><span class="o">=</span><span class="mi">39308</span><span class="p">,</span> <span class="n">transferred_down</span><span class="o">=</span><span class="mi">991203</span><span class="p">,</span>
    <span class="n">files</span><span class="o">=</span><span class="p">[</span> <span class="p">[</span><span class="s">&quot;/home/user/Podcasts/SomePodcast/Episode-15.ogg&quot;</span><span class="p">,</span>
             <span class="bp">True</span><span class="p">,</span>
             <span class="n">woodchuck</span><span class="o">.</span><span class="n">DeletionPolicy</span><span class="o">.</span><span class="n">DeleteWithoutConsultation</span><span class="p">],</span> <span class="p">])</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_unregister</span> <span class="p">(</span><span class="s">&quot;http://podcast.site/podcasts/SomePodcast.rss&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_download_failed">
<tt class="descname">object_download_failed</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>reason</em>, <em>transferred_up=None</em>, <em>transferred_down=None</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_download_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that the program failed to download an object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.</li>
<li><strong>reason</strong> &#8211; The reason the update failed.  Taken from
<a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DownloadStatus</span></tt></a>.</li>
<li><strong>transferred_up</strong> &#8211; The number of bytes uploaded.  If not
known, set to None.  Default: None.</li>
<li><strong>transferred_down</strong> &#8211; The number of bytes downloaded.  If
not known, set to None.  Default: None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: For an example of a similar function, see
<a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_failed" title="pywoodchuck.PyWoodchuck.stream_update_failed"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_failed()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_used">
<tt class="descname">object_used</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>start=None</em>, <em>duration=None</em>, <em>use_mask=18446744073709551615L</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_used" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that an object has been used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.</li>
<li><strong>start</strong> &#8211; The time that the use of the object started, in
seconds since the epoch.</li>
<li><strong>duration</strong> &#8211; The amount of time that the object was used,
in seconds.</li>
<li><strong>use_mask</strong> &#8211; A 64-bit bit-mask indicating which parts of
the object was used.  Setting the least significant bit
means the first 1/64 of the object was used, the
second-least significant bit that the second 1/64 of the
object, etc.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: indicate that the user view the first 2 minutes of a
64 minute video Podcast:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;Podcasts&quot;</span><span class="p">,</span> <span class="s">&quot;org.podcasts&quot;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&quot;http://videocast.site/podcasts/Videocast.rss&quot;</span><span class="p">,</span>
                  <span class="s">&quot;Video Podcast&quot;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">object_register</span><span class="p">(</span>
    <span class="s">&quot;http://videocast.site/podcasts/Videocast.rss&quot;</span><span class="p">,</span>
    <span class="s">&quot;http://videocast.site/podcasts/Episode-15.ogv&quot;</span><span class="p">,</span>
    <span class="s">&quot;Episode 15: Title&quot;</span><span class="p">)</span>

<span class="o">...</span>

<span class="c"># User clicks play:</span>
<span class="n">start</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span>
<span class="n">use_mask</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">length</span> <span class="o">=</span> <span class="mi">64</span>

<span class="o">...</span>

<span class="c"># Periodically sample the stream&#39;s position and update use_mask.</span>
<span class="k">for</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="n">use_mask</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nb">int</span> <span class="p">(</span><span class="mi">64</span> <span class="o">*</span> <span class="p">(</span><span class="n">pos</span> <span class="o">/</span> <span class="nb">float</span> <span class="p">(</span><span class="n">length</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="o">...</span>

<span class="c"># User clicks stop after 2 minutes.  `use_mask` is now</span>
<span class="c"># 0x3: the least two significant bits are set.</span>
<span class="n">end</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span>

<span class="n">w</span><span class="o">.</span><span class="n">object_used</span> <span class="p">(</span>
    <span class="s">&quot;http://videocast.site/podcasts/Videocast.rss&quot;</span><span class="p">,</span>
    <span class="s">&quot;http://videocast.site/podcasts/Episode-15.ogv&quot;</span><span class="p">,</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">,</span> <span class="n">use_mask</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_unregister</span> <span class="p">(</span><span class="s">&quot;http://videocast.site/podcasts/Videocast.rss&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_files_deleted">
<tt class="descname">object_files_deleted</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>update=0</em>, <em>arg=None</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_files_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that the files associated with an object have been
deleted, compressed (e.g., an email attachment, but not the
body, was deleted) or that a deletion request has been vetoed,
because, e.g., the application thinks the user still needs the
data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.</li>
<li><strong>update</strong> &#8211; The type of update.  Taken from
<a class="reference internal" href="#woodchuck.DeletionResponse" title="woodchuck.DeletionResponse"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DeletionResponse</span></tt></a>.</li>
<li><strong>arg</strong> &#8211; <p>If update is woodchuck.DeletionResponse.Deleted,
the value is ignored.</p>
<p>If update is woodchuck.DeletionResponse.Refused, the value
is the minimum number of seconds the object should be
preserved, i.e., the minimum amount of time before
Woodchuck should call
<tt class="xref py py-func docutils literal"><span class="pre">Upcalls.object_delete_files_cb()</span></tt> again.</p>
<p>If update is woodchuck.DeletionResponse.Compressed, the
value is the number of bytes of disk space the object now
uses.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: Indicating that an email attachment has been deleted,
but not the email&#8217;s body:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pywoodchuck</span>
<span class="kn">import</span> <span class="nn">woodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">pywoodchuck</span><span class="o">.</span><span class="n">PyWoodchuck</span><span class="p">(</span><span class="s">&quot;HMail&quot;</span><span class="p">,</span> <span class="s">&quot;org.hmail&quot;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="s">&quot;user@provider.com/INBOX&quot;</span><span class="p">,</span> <span class="s">&quot;Provider Inbox&quot;</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">object_register</span><span class="p">(</span>
    <span class="s">&quot;user@provider.com/INBOX&quot;</span><span class="p">,</span>
    <span class="s">&quot;2721812449&quot;</span><span class="p">,</span>
    <span class="s">&quot;Subject Line&quot;</span><span class="p">)</span>

<span class="o">...</span>

<span class="n">w</span><span class="o">.</span><span class="n">object_downloaded</span> <span class="p">(</span>
    <span class="s">&quot;user@provider.com/INBOX&quot;</span><span class="p">,</span> <span class="s">&quot;2721812449&quot;</span><span class="p">,</span>
    <span class="n">transferred_up</span><span class="o">=</span><span class="mi">3308</span><span class="p">,</span> <span class="n">transferred_down</span><span class="o">=</span><span class="mi">991203</span><span class="p">,</span>
    <span class="n">files</span><span class="o">=</span><span class="p">[</span> <span class="p">[</span><span class="s">&quot;/home/user/Maildir/.inbox/cur/2721812449&quot;</span><span class="p">,</span>
             <span class="bp">True</span><span class="p">,</span>
             <span class="n">woodchuck</span><span class="o">.</span><span class="n">DeletionPolicy</span><span class="o">.</span><span class="n">DeleteWithConsultation</span><span class="p">],</span> <span class="p">])</span>

<span class="n">w</span><span class="o">.</span><span class="n">object_files_deleted</span> <span class="p">(</span><span class="s">&quot;user@provider.com/INBOX&quot;</span><span class="p">,</span> <span class="s">&quot;2721812449&quot;</span><span class="p">,</span>
                        <span class="n">woodchuck</span><span class="o">.</span><span class="n">DeletionResponse</span><span class="o">.</span><span class="n">Compressed</span><span class="p">,</span> <span class="mi">1877</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">stream_unregister</span> <span class="p">(</span><span class="s">&quot;user@provider.com/INBOX&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_downloaded_cb">
<tt class="descname">object_downloaded_cb</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>status</em>, <em>instance</em>, <em>version</em>, <em>filename</em>, <em>size</em>, <em>trigger_target</em>, <em>trigger_fired</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_downloaded_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in receiving object downloaded
notifications (<a class="reference internal" href="org.woodchuck.upcall.html#org.woodchuck.upcall.ObjectDownloaded" title="org.woodchuck.upcall.ObjectDownloaded"><tt class="xref py py-func docutils literal"><span class="pre">org.woodchuck.upcall.ObjectDownloaded()</span></tt></a>).</p>
<p>This upcall is invoked when Woodchuck downloads an object on
behalf of a manager.  This is only done for objects using the
simple downloader.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.</li>
<li><strong>status</strong> &#8211; Whether the download was successfully.  The
value is taken from <a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DownloadStatus</span></tt></a>.</li>
<li><strong>instance</strong> &#8211; The number of download attempts (not
including this one).</li>
<li><strong>version</strong> &#8211; The version that was downloaded.  An array of:
the index in the version array, the URL, the expected
size, the utility and the value of use simple downloader.</li>
<li><strong>filename</strong> &#8211; The name of the file containing the data.</li>
<li><strong>size</strong> &#8211; The size of the file, in bytes.</li>
<li><strong>trigger_target</strong> &#8211; The time the application requested the
object be downloaded.</li>
<li><strong>trigger_fired</strong> &#8211; The time at which the file was actually
downloaded.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: for an example of how to implement an upcall, see the
opening example to <a class="reference internal" href="#pywoodchuck.PyWoodchuck" title="pywoodchuck.PyWoodchuck"><tt class="xref py py-class docutils literal"><span class="pre">PyWoodchuck</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.stream_update_cb">
<tt class="descname">stream_update_cb</tt><big>(</big><em>stream_identifier</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.stream_update_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in receiving stream update
notifications (<a class="reference internal" href="org.woodchuck.upcall.html#org.woodchuck.upcall.StreamUpdate" title="org.woodchuck.upcall.StreamUpdate"><tt class="xref py py-func docutils literal"><span class="pre">org.woodchuck.upcall.StreamUpdate()</span></tt></a>).</p>
<p>This upcall is invoked when a stream should be updated.  The
application should update the stream and call
<a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_updated" title="pywoodchuck.PyWoodchuck.stream_updated"><tt class="xref py py-func docutils literal"><span class="pre">stream_updated()</span></tt></a> or <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_update_failed" title="pywoodchuck.PyWoodchuck.stream_update_failed"><tt class="xref py py-func docutils literal"><span class="pre">stream_update_failed()</span></tt></a>, as
appropriate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</td>
</tr>
</tbody>
</table>
<p>Example: for an example of how to implement an upcall, see the
opening example to <a class="reference internal" href="#pywoodchuck.PyWoodchuck" title="pywoodchuck.PyWoodchuck"><tt class="xref py py-class docutils literal"><span class="pre">PyWoodchuck</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_download_cb">
<tt class="descname">object_download_cb</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em>, <em>version</em>, <em>filename</em>, <em>quality</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_download_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child class
if it is interested in receiving object download notifications
(<a class="reference internal" href="org.woodchuck.upcall.html#org.woodchuck.upcall.ObjectDownload" title="org.woodchuck.upcall.ObjectDownload"><tt class="xref py py-func docutils literal"><span class="pre">org.woodchuck.upcall.ObjectDownload()</span></tt></a>).</p>
<p>This upcall is invoked when an object should be downloaded.
The application should download the object and call either
<a class="reference internal" href="#pywoodchuck.PyWoodchuck.object_downloaded" title="pywoodchuck.PyWoodchuck.object_downloaded"><tt class="xref py py-func docutils literal"><span class="pre">object_downloaded()</span></tt></a> or <a class="reference internal" href="#pywoodchuck.PyWoodchuck.object_download_failed" title="pywoodchuck.PyWoodchuck.object_download_failed"><tt class="xref py py-func docutils literal"><span class="pre">object_download_failed()</span></tt></a>,
as appropriate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.</li>
<li><strong>version</strong> &#8211; The version to download.  An array of: the
index in the version array, the URL, the expected size,
the utility and the value of use simple downloader.</li>
<li><strong>filename</strong> &#8211; The name of the filename property.</li>
<li><strong>quality</strong> &#8211; The degree to which quality should be
sacrified to reduce the number of bytes transferred.  The
target quality of the download.  From 1 (most compressed)
to 5 (highest available fidelity).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: for an example of how to implement an upcall, see the
opening example to <a class="reference internal" href="#pywoodchuck.PyWoodchuck" title="pywoodchuck.PyWoodchuck"><tt class="xref py py-class docutils literal"><span class="pre">PyWoodchuck</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="pywoodchuck.PyWoodchuck.object_delete_files_cb">
<tt class="descname">object_delete_files_cb</tt><big>(</big><em>stream_identifier</em>, <em>object_identifier</em><big>)</big><a class="headerlink" href="#pywoodchuck.PyWoodchuck.object_delete_files_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in receiving deletion requests
(<a class="reference internal" href="org.woodchuck.upcall.html#org.woodchuck.upcall.ObjectDeleteFiles" title="org.woodchuck.upcall.ObjectDeleteFiles"><tt class="xref py py-func docutils literal"><span class="pre">org.woodchuck.upcall.ObjectDeleteFiles()</span></tt></a>).</p>
<p>This upcall is invoked when an object&#8217;s files should be
downloaded.  The application should respond with
<a class="reference internal" href="#pywoodchuck.PyWoodchuck.object_files_deleted" title="pywoodchuck.PyWoodchuck.object_files_deleted"><tt class="xref py py-func docutils literal"><span class="pre">object_files_deleted()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stream_identifier</strong> &#8211; The stream&#8217;s identifier.</li>
<li><strong>object_identifier</strong> &#8211; The object&#8217;s identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: for an example of how to implement an upcall, see the
opening example to <a class="reference internal" href="#pywoodchuck.PyWoodchuck" title="pywoodchuck.PyWoodchuck"><tt class="xref py py-class docutils literal"><span class="pre">PyWoodchuck</span></tt></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="constants">
<h3>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="pywoodchuck.never_updated">
<tt class="descclassname">pywoodchuck.</tt><tt class="descname">never_updated</tt><a class="headerlink" href="#pywoodchuck.never_updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant that can be passed to <a class="reference internal" href="#pywoodchuck.PyWoodchuck.stream_register" title="pywoodchuck.PyWoodchuck.stream_register"><tt class="xref py py-func docutils literal"><span class="pre">PyWoodchuck.stream_register()</span></tt></a>
indicating that the stream will never be updated.</p>
</dd></dl>

</div>
</div>
<div class="section" id="id2">
<h2>woodchuck<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-woodchuck"></span><p>The <a class="reference internal" href="#module-woodchuck" title="woodchuck"><tt class="xref py py-mod docutils literal"><span class="pre">woodchuck</span></tt></a> module is a low-level wrapper of the DBus
interface.  Each of Woodchuck&#8217;s object types is mirrored by a
similarly named Python class.</p>
<p>The <a class="reference internal" href="#module-woodchuck" title="woodchuck"><tt class="xref py py-mod docutils literal"><span class="pre">woodchuck</span></tt></a> module uses a factory for managing instantiations
of the objects.  In particular, the factory ensures that there is at
most one Python object per Woodchuck object.  That is, the same Python
object is shared by all users of a given Woodchuck object.</p>
<div class="section" id="id3">
<h3>Woodchuck<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The Woodchuck object wraps the top-level Woodchuck interface.</p>
<dl class="function">
<dt id="woodchuck.Woodchuck">
<tt class="descclassname">woodchuck.</tt><tt class="descname">Woodchuck</tt><big>(</big><big>)</big><a class="headerlink" href="#woodchuck.Woodchuck" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the top-level Woodchuck singleton.</p>
<p>Note: There is at most a single <a class="reference internal" href="#woodchuck._Woodchuck" title="woodchuck._Woodchuck"><tt class="xref py py-class docutils literal"><span class="pre">_Woodchuck</span></tt></a> instance.  In
other words, the Python object is shared among all users.</p>
</dd></dl>

<dl class="class">
<dt id="woodchuck._Woodchuck">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">_Woodchuck</tt><a class="headerlink" href="#woodchuck._Woodchuck" title="Permalink to this definition">¶</a></dt>
<dd><p>The top-level Woodchuck class.</p>
<dl class="method">
<dt id="woodchuck._Woodchuck.manager_register">
<tt class="descname">manager_register</tt><big>(</big><em>only_if_cookie_unique=True</em>, <em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Woodchuck.manager_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new top-level manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>only_if_cookie_unique</strong> &#8211; If True, only succeed if the
specified cookie is unique among top-level managers.</li>
<li><strong>human_readable_name</strong> &#8211; A string that can be shown to the
user that identifies the manager.</li>
<li><strong>properties</strong> &#8211; Other properties to set.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> object.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">woodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">woodchuck</span><span class="o">.</span><span class="n">Woodchuck</span> <span class="p">()</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">manager_register</span><span class="p">(</span>
    <span class="n">only_if_cookie_unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;RSS Reader&#39;</span><span class="p">,</span>
    <span class="n">cookie</span><span class="o">=</span><span class="s">&#39;org.rssreader&#39;</span><span class="p">,</span>
    <span class="n">dbus_service_name</span><span class="o">=</span><span class="s">&#39;org.rssreader&#39;</span><span class="p">)</span>
<span class="n">manager</span><span class="o">.</span><span class="n">unregister</span> <span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Woodchuck.list_managers">
<tt class="descname">list_managers</tt><big>(</big><em>recursive=False</em><big>)</big><a class="headerlink" href="#woodchuck._Woodchuck.list_managers" title="Permalink to this definition">¶</a></dt>
<dd><p>List known managers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>recursive</strong> &#8211; If True, list all managers.  Otherwise, only
list top-level managers.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An array of <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><pre>import woodchuck
print "The top-level managers are:"
for m in woodchuck.Woodchuck().list_managers (False):
    print m.human_readable_name ": " m.cookie</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Woodchuck.lookup_manager_by_cookie">
<tt class="descname">lookup_manager_by_cookie</tt><big>(</big><em>cookie</em>, <em>recursive=False</em><big>)</big><a class="headerlink" href="#woodchuck._Woodchuck.lookup_manager_by_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of managers with the specified cookie.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cookie</strong> &#8211; The cookie to lookup.</li>
<li><strong>recursive</strong> &#8211; If False, only consider top-level managers,
otherwise, consider any manager.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An array of <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">woodchuck</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">woodchuck</span><span class="o">.</span><span class="n">Woodchuck</span><span class="p">()</span>

<span class="n">cookie</span><span class="o">=</span><span class="nb">str</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">manager_register</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">cookie</span><span class="o">=</span><span class="n">cookie</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;Test&#39;</span><span class="p">)</span>

<span class="n">managers</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">lookup_manager_by_cookie</span><span class="p">(</span><span class="n">cookie</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span> <span class="p">(</span><span class="n">managers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">managers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">UUID</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="n">UUID</span>
<span class="k">assert</span> <span class="n">managers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cookie</span> <span class="o">==</span> <span class="n">cookie</span>
<span class="n">m</span><span class="o">.</span><span class="n">unregister</span> <span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="manager">
<h3>Manager<a class="headerlink" href="#manager" title="Permalink to this headline">¶</a></h3>
<p>The <em>_Manager</em> class wraps a Woodchuck manager.</p>
<dl class="function">
<dt id="woodchuck.Manager">
<tt class="descclassname">woodchuck.</tt><tt class="descname">Manager</tt><big>(</big><em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to a <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> object.  This
function does not actually register a manager; a manager is
assumed to already exist.  This function should not normally be
called from user code.  Instead, call
<a class="reference internal" href="#woodchuck._Woodchuck.manager_register" title="woodchuck._Woodchuck.manager_register"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.manager_register()</span></tt></a> or
<a class="reference internal" href="#woodchuck._Woodchuck.lookup_manager_by_cookie" title="woodchuck._Woodchuck.lookup_manager_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.lookup_manager_by_cookie()</span></tt></a> to get a
<a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>UUID</strong> &#8211; The manager&#8217;s UUID, required.</li>
<li><strong>properties</strong> &#8211; Other properties, e.g., human_readable_name.
Assumed to correspond to the manager&#8217;s actual values.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> object with the specified
properties.</p>
</td>
</tr>
</tbody>
</table>
<p>Note: There is at most a single <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> instance per
Woodchuck manager object.  In other words, the Python object is
shared among all users.</p>
</dd></dl>

<dl class="class">
<dt id="woodchuck._Manager">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">_Manager</tt><big>(</big><em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a <tt class="xref py py-class docutils literal"><span class="pre">Woodchuck._Manager</span></tt>.  Instantiating
this object does not actually register a manager; the manager
is assumed to already exist.  A <tt class="xref py py-class docutils literal"><span class="pre">Woodchuck._Manager</span></tt>
object should should not normally be directly instantiated
from user code.  Instead, use a method that returns an
<a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a>, such as <a class="reference internal" href="#woodchuck._Woodchuck.manager_register" title="woodchuck._Woodchuck.manager_register"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.manager_register()</span></tt></a>
or <a class="reference internal" href="#woodchuck._Woodchuck.lookup_manager_by_cookie" title="woodchuck._Woodchuck.lookup_manager_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.lookup_manager_by_cookie()</span></tt></a> to get a
<a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>UUID</strong> &#8211; The UUID of the Manager.</li>
<li><strong>properties</strong> &#8211; Other properties, e.g.,
human_readable_name.  Assumed to correspond to the
manager&#8217;s actual values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="woodchuck._Manager.unregister">
<tt class="descname">unregister</tt><big>(</big><em>only_if_empty=True</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister the manager object thereby causing Woodchuck to
permanently forget about the manager and any streams and
objects it contained.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>only_if_empty</strong> &#8211; If True, this method invocation only
suceeds if the manager has no children, i.e., no
descendent managers and no streams.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><pre>try:
    manager.unregister (True)
except woodchuck.NoSuchObject as exception:
    print "Can't remove stream %s: Does not exist: %s"
        % (str (manager), exception)
except woodchuck.ObjectExistsError as exception:
    print "Can't remove manager %s: Not empty: %s"
        % (str (manager), exception)</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.manager_register">
<tt class="descname">manager_register</tt><big>(</big><em>only_if_cookie_unique=True</em>, <em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.manager_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a child manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>only_if_cookie_unique</strong> &#8211; If True, only succeed if the
specified cookie is unique among sibling managers.</li>
<li><strong>human_readable_name</strong> &#8211; A string that can be shown to the
user that identifies the manager.</li>
<li><strong>properties</strong> &#8211; Other properties to set.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a> object.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">woodchuck</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">woodchuck</span><span class="o">.</span><span class="n">Woodchuck</span> <span class="p">()</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">manager_register</span><span class="p">(</span>
    <span class="n">only_if_cookie_unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;Web Browser&#39;</span><span class="p">,</span>
    <span class="n">cookie</span><span class="o">=</span><span class="s">&#39;org.webbrowser&#39;</span><span class="p">,</span>
    <span class="n">dbus_service_name</span><span class="o">=</span><span class="s">&#39;org.webbrowser&#39;</span><span class="p">)</span>

<span class="n">web_cache</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">manager_register</span><span class="p">(</span>
    <span class="n">only_if_cookie_unique</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;Web Cache&#39;</span><span class="p">)</span>

<span class="n">download_later</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">manager_register</span><span class="p">(</span>
    <span class="n">only_if_cookie_unique</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;Downloads for Later&#39;</span><span class="p">)</span>

<span class="n">manager</span><span class="o">.</span><span class="n">unregister</span> <span class="p">(</span><span class="n">only_if_empty</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.list_managers">
<tt class="descname">list_managers</tt><big>(</big><em>recursive=False</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.list_managers" title="Permalink to this definition">¶</a></dt>
<dd><p>List managers that are a descendent of this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>recursive</strong> &#8211; If True, list all descendent managers.
Otherwise, only list managers that are an immediate
descendent.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An array of <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Woodchuck.list_managers" title="woodchuck._Woodchuck.list_managers"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.list_managers()</span></tt></a> for an example using a
similar function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.lookup_manager_by_cookie">
<tt class="descname">lookup_manager_by_cookie</tt><big>(</big><em>cookie</em>, <em>recursive=False</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.lookup_manager_by_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of managers with the specified cookie that
are a descendent of this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cookie</strong> &#8211; The cookie to lookup.</li>
<li><strong>recursive</strong> &#8211; If False, only consider immediate children,
otherwise, consider any descendent.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An array of <a class="reference internal" href="#woodchuck._Manager" title="woodchuck._Manager"><tt class="xref py py-class docutils literal"><span class="pre">_Manager</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Woodchuck.lookup_manager_by_cookie" title="woodchuck._Woodchuck.lookup_manager_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.lookup_manager_by_cookie()</span></tt></a> for an example.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.stream_register">
<tt class="descname">stream_register</tt><big>(</big><em>only_if_cookie_unique=True</em>, <em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.stream_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>only_if_cookie_unique</strong> &#8211; If True, only succeed if the
specified cookie is unique.</li>
<li><strong>human_readable_name</strong> &#8211; A string that can be shown to the
user that identifies the stream.</li>
<li><strong>properties</strong> &#8211; Other properties to set.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#woodchuck._Stream" title="woodchuck._Stream"><tt class="xref py py-class docutils literal"><span class="pre">_Stream</span></tt></a> object.</p>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">woodchuck</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">woodchuck</span><span class="o">.</span><span class="n">Woodchuck</span><span class="p">()</span>

<span class="n">cookie</span><span class="o">=</span><span class="nb">str</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">manager_register</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">cookie</span><span class="o">=</span><span class="n">cookie</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;Test Manager&#39;</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">stream_register</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">cookie</span><span class="o">=</span><span class="n">cookie</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="o">=</span><span class="s">&#39;Test Stream&#39;</span><span class="p">)</span>

<span class="k">print</span> <span class="n">m</span><span class="o">.</span><span class="n">list_streams</span> <span class="p">()</span>

<span class="n">m</span><span class="o">.</span><span class="n">unregister</span> <span class="p">(</span><span class="n">only_if_empty</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.list_streams">
<tt class="descname">list_streams</tt><big>(</big><big>)</big><a class="headerlink" href="#woodchuck._Manager.list_streams" title="Permalink to this definition">¶</a></dt>
<dd><p>List this manager&#8217;s streams.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An array of <a class="reference internal" href="#woodchuck._Stream" title="woodchuck._Stream"><tt class="xref py py-class docutils literal"><span class="pre">_Stream</span></tt></a></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Woodchuck.list_managers" title="woodchuck._Woodchuck.list_managers"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.list_managers()</span></tt></a> for an example using a
similar function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.lookup_stream_by_cookie">
<tt class="descname">lookup_stream_by_cookie</tt><big>(</big><em>cookie</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.lookup_stream_by_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of streams with the specified cookie.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cookie</strong> &#8211; The cookie to match.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An array of <a class="reference internal" href="#woodchuck._Stream" title="woodchuck._Stream"><tt class="xref py py-class docutils literal"><span class="pre">_Stream</span></tt></a></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Woodchuck.lookup_manager_by_cookie" title="woodchuck._Woodchuck.lookup_manager_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.lookup_manager_by_cookie()</span></tt></a> for an example
using a similar function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.feedback_subscribe">
<tt class="descname">feedback_subscribe</tt><big>(</big><em>descendents_too=True</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.feedback_subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Request that Woodchuck begin making upcalls for this
manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>descendents_too</strong> &#8211; If True, also makes upcalls for any
descendent managers.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An opaque handle, which must be passed to
<a class="reference internal" href="#woodchuck._Manager.feedback_unsubscribe" title="woodchuck._Manager.feedback_unsubscribe"><tt class="xref py py-func docutils literal"><span class="pre">_Manager.feedback_unsubscribe()</span></tt></a>.</td>
</tr>
</tbody>
</table>
<p>At most, a single subscription is obtained per Manager.  Thus,
multiple subscriptions share the same handle.  To stop
receiving feedback, <a class="reference internal" href="#woodchuck._Manager.feedback_unsubscribe" title="woodchuck._Manager.feedback_unsubscribe"><tt class="xref py py-func docutils literal"><span class="pre">_Manager.feedback_unsubscribe()</span></tt></a> must
be called the same number of times.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">subscription</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">feedback_subscribe</span> <span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">manager</span><span class="o">.</span><span class="n">feedback_unsubscribe</span><span class="p">(</span><span class="n">subscription</span><span class="p">)</span>
</pre></div>
</div>
<p>To actually receive upcalls refer to
<a class="reference internal" href="#woodchuck.Upcalls" title="woodchuck.Upcalls"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.Upcalls</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.feedback_unsubscribe">
<tt class="descname">feedback_unsubscribe</tt><big>(</big><em>handle</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.feedback_unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an upcall subscription.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handle</strong> &#8211; The value returned by a previous call to
<a class="reference internal" href="#woodchuck._Manager.feedback_subscribe" title="woodchuck._Manager.feedback_subscribe"><tt class="xref py py-func docutils literal"><span class="pre">_Manager.feedback_subscribe()</span></tt></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Manager.feedback_ack">
<tt class="descname">feedback_ack</tt><big>(</big><em>object_UUID</em>, <em>object_instance</em><big>)</big><a class="headerlink" href="#woodchuck._Manager.feedback_ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke org.woodchuck.manager.FeedbackAck.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stream">
<h3>Stream<a class="headerlink" href="#stream" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="woodchuck._Stream">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">_Stream</tt><big>(</big><em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a <tt class="xref py py-class docutils literal"><span class="pre">Woodchuck._Stream</span></tt>.  Instantiating
this object does not actually register a stream; the stream is
assumed to already exist.  A <tt class="xref py py-class docutils literal"><span class="pre">Woodchuck._Stream</span></tt> object
should should not normally be directly instantiated from user
code.  Instead, use a method that returns an <a class="reference internal" href="#woodchuck._Stream" title="woodchuck._Stream"><tt class="xref py py-class docutils literal"><span class="pre">_Stream</span></tt></a>,
such as <a class="reference internal" href="#woodchuck._Manager.stream_register" title="woodchuck._Manager.stream_register"><tt class="xref py py-func docutils literal"><span class="pre">_Manager.stream_register()</span></tt></a> or
<a class="reference internal" href="#woodchuck._Manager.lookup_stream_by_cookie" title="woodchuck._Manager.lookup_stream_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Manager.lookup_stream_by_cookie()</span></tt></a> to get a
<a class="reference internal" href="#woodchuck._Stream" title="woodchuck._Stream"><tt class="xref py py-class docutils literal"><span class="pre">_Stream</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>UUID</strong> &#8211; The UUID of the stream.</li>
<li><strong>properties</strong> &#8211; Other properties, e.g.,
human_readable_name.  Assumed to correspond to stream&#8217;s
actual values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="woodchuck._Stream.unregister">
<tt class="descname">unregister</tt><big>(</big><em>only_if_empty</em><big>)</big><a class="headerlink" href="#woodchuck._Stream.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister the stream object thereby causing Woodchuck to
permanently forget about the stream and any object it
contained.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>only_if_empty</strong> &#8211; If True, this method invocation only
suceeds if the stream contains no objects.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><pre>try:
    stream.unregister (True)
except woodchuck.NoSuchObject as exception:
    print "Can't remove stream %s: Does not exist: %s"
        % (str (stream), exception)
except woodchuck.ObjectExistsError as exception:
    print "Can't remove stream %s: Not empty: %s"
        % (str (stream), exception)</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Stream.object_register">
<tt class="descname">object_register</tt><big>(</big><em>only_if_cookie_unique=True</em>, <em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Stream.object_register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>only_if_cookie_unique</strong> &#8211; If True, only succeed if the
specified cookie is unique.</li>
<li><strong>human_readable_name</strong> &#8211; A string that can be shown to the
user that identifies the object.</li>
<li><strong>properties</strong> &#8211; Other properties to set.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#woodchuck._Object" title="woodchuck._Object"><tt class="xref py py-class docutils literal"><span class="pre">_Object</span></tt></a> object.</p>
</td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Manager.stream_register" title="woodchuck._Manager.stream_register"><tt class="xref py py-func docutils literal"><span class="pre">_Manager.stream_register()</span></tt></a> for an example using a
similar function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Stream.list_objects">
<tt class="descname">list_objects</tt><big>(</big><big>)</big><a class="headerlink" href="#woodchuck._Stream.list_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>List this stream&#8217;s objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An array of <a class="reference internal" href="#woodchuck._Object" title="woodchuck._Object"><tt class="xref py py-class docutils literal"><span class="pre">_Object</span></tt></a></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Woodchuck.list_managers" title="woodchuck._Woodchuck.list_managers"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.list_managers()</span></tt></a> for an example using a
similar function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Stream.lookup_object_by_cookie">
<tt class="descname">lookup_object_by_cookie</tt><big>(</big><em>cookie</em><big>)</big><a class="headerlink" href="#woodchuck._Stream.lookup_object_by_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of objects with the specified cookie.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cookie</strong> &#8211; The cookie to match.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">An array of <a class="reference internal" href="#woodchuck._Object" title="woodchuck._Object"><tt class="xref py py-class docutils literal"><span class="pre">_Object</span></tt></a></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#woodchuck._Woodchuck.lookup_manager_by_cookie" title="woodchuck._Woodchuck.lookup_manager_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Woodchuck.lookup_manager_by_cookie()</span></tt></a> for an example
using a similar function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Stream.update_status">
<tt class="descname">update_status</tt><big>(</big><em>status</em>, <em>indicator=None</em>, <em>transferred_up=None</em>, <em>transferred_down=None</em>, <em>download_time=None</em>, <em>download_duration=None</em>, <em>new_objects=None</em>, <em>updated_objects=None</em>, <em>objects_inline=None</em><big>)</big><a class="headerlink" href="#woodchuck._Stream.update_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell Woodchuck that the stream has been updated.  Call this
function whenever a stream is updated, not only in response to
a <tt class="xref py py-func docutils literal"><span class="pre">_Upcalls.stream_update_cb()</span></tt> upcall.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>status</strong> &#8211; On success, 0.  Otherwise, the error code.  See
<a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">DownloadStatus</span></tt></a> for possible values.</li>
<li><strong>indicator</strong> &#8211; What indicators, if any, were shown to the
user indicating that the stream was updated.  A bit-wise
mask of <a class="reference internal" href="#woodchuck.Indicator" title="woodchuck.Indicator"><tt class="xref py py-class docutils literal"><span class="pre">Indicator</span></tt></a>.  Default: None.</li>
<li><strong>transferred_up</strong> &#8211; The number of bytes uploaded.  If not
known, set to None.  Default: None.</li>
<li><strong>transferred_down</strong> &#8211; The number of bytes downloaded.  If
not known, set to None.  Default: None.</li>
<li><strong>download_time</strong> &#8211; The time at which the update was
started.  If not known, set to None.  Default: None.</li>
<li><strong>download_duration</strong> &#8211; The amount of time the update took,
in seconds.  If not known, set to None.  Default: None.</li>
<li><strong>new_objects</strong> &#8211; The number of newly discovered objects.  If
not known, set to None.  Default: None.</li>
<li><strong>updated_objects</strong> &#8211; The number of objects with updates.
If not known, set to None.  Default: None.</li>
<li><strong>objects_inline</strong> &#8211; The number of objects whose content was
delivered inline, i.e., with the update.  If not known,
set to None.  Default: None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example of reporting a stream update for which five new
objects were discovered and all of which were delivered
inline:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">woodchuck</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="o">...</span>

<span class="n">download_time</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span>
<span class="o">...</span>
<span class="c"># Perform the download</span>
<span class="o">...</span>
<span class="n">download_duration</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span> <span class="o">-</span> <span class="n">download_time</span>
<span class="n">stream</span><span class="o">.</span><span class="n">update_status</span> <span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">transferred_up</span><span class="o">=</span><span class="mi">2048</span><span class="p">,</span>
                      <span class="n">transferred_down</span><span class="o">=</span><span class="mi">64000</span><span class="p">,</span>
                      <span class="n">download_time</span><span class="o">=</span><span class="n">download_time</span><span class="p">,</span>
                      <span class="n">download_duration</span><span class="o">=</span><span class="n">download_duration</span><span class="p">,</span>
                      <span class="n">new_objects</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                      <span class="n">objects_inline</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Note: The five new objects should immediately be registered
using <a class="reference internal" href="#woodchuck._Stream.object_register" title="woodchuck._Stream.object_register"><tt class="xref py py-func docutils literal"><span class="pre">_Stream.object_register()</span></tt></a> and marked as downloaded
using <a class="reference internal" href="#woodchuck._Object.download_status" title="woodchuck._Object.download_status"><tt class="xref py py-func docutils literal"><span class="pre">_Object.download_status()</span></tt></a>.</p>
<p>Example of a failed update due to a network problem, e.g., the
host is unreachable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">stream</span><span class="o">.</span><span class="n">update_status</span> <span class="p">(</span><span class="n">woodchuck</span><span class="o">.</span><span class="n">TransientNetwork</span><span class="p">,</span>
                      <span class="n">transferred_up</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="object">
<h3>Object<a class="headerlink" href="#object" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="woodchuck._Object">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">_Object</tt><big>(</big><em>**properties</em><big>)</big><a class="headerlink" href="#woodchuck._Object" title="Permalink to this definition">¶</a></dt>
<dd><p>The local representation for a Woodchuck object.</p>
<p>Instantiate a <tt class="xref py py-class docutils literal"><span class="pre">Woodchuck._Object</span></tt>.  Instantiating this
object does not actually register an object; the object is
assumed to already exist.  A <tt class="xref py py-class docutils literal"><span class="pre">Woodchuck._Object</span></tt> object
should should not normally be directly instantiated from user
code.  Instead, use a method that returns an <a class="reference internal" href="#woodchuck._Object" title="woodchuck._Object"><tt class="xref py py-class docutils literal"><span class="pre">_Object</span></tt></a>,
such as <a class="reference internal" href="#woodchuck._Stream.object_register" title="woodchuck._Stream.object_register"><tt class="xref py py-func docutils literal"><span class="pre">_Stream.object_register()</span></tt></a> or
<a class="reference internal" href="#woodchuck._Stream.lookup_object_by_cookie" title="woodchuck._Stream.lookup_object_by_cookie"><tt class="xref py py-func docutils literal"><span class="pre">_Stream.lookup_object_by_cookie()</span></tt></a> to get a
<a class="reference internal" href="#woodchuck._Object" title="woodchuck._Object"><tt class="xref py py-class docutils literal"><span class="pre">_Object</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>UUID</strong> &#8211; The UUID of the object.</li>
<li><strong>properties</strong> &#8211; Other properties, e.g.,
human_readable_name.  Assumed to correspond to stream&#8217;s
actual values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="woodchuck._Object.unregister">
<tt class="descname">unregister</tt><big>(</big><big>)</big><a class="headerlink" href="#woodchuck._Object.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister the object object thereby causing Woodchuck to
permanently forget about the object.</p>
<p>See <a class="reference internal" href="#woodchuck._Stream.unregister" title="woodchuck._Stream.unregister"><tt class="xref py py-func docutils literal"><span class="pre">_Stream.unregister()</span></tt></a> for an example using a similar
function.</p>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Object.download">
<tt class="descname">download</tt><big>(</big><em>request_type</em><big>)</big><a class="headerlink" href="#woodchuck._Object.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Request that Woodchuck download the object.  This only makes
sense for object&#8217;s that use Woodchuck&#8217;s simple downloader.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request_type</strong> &#8211; Whether the request is user initiated or
application initiated.  See <a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">DownloadStatus</span></tt></a> for
possible values.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Object.download_status">
<tt class="descname">download_status</tt><big>(</big><em>status</em>, <em>indicator=None</em>, <em>transferred_up=None</em>, <em>transferred_down=None</em>, <em>download_time=None</em>, <em>download_duration=None</em>, <em>object_size=None</em>, <em>files=None</em><big>)</big><a class="headerlink" href="#woodchuck._Object.download_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell Woodchuck that the object has been transferred.  Call
this function whenever an object is downloaded (or uploaded),
not only in response to a <tt class="xref py py-func docutils literal"><span class="pre">_Upcalls.object_download_cb()</span></tt>
upcall.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>status</strong> &#8211; On success, 0.  Otherwise, the error code.  See
<a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">DownloadStatus</span></tt></a> for possible values.</li>
<li><strong>indicator</strong> &#8211; What indicators, if any, were shown to the
user indicating that the stream was updated.  A bit-wise
mask of <a class="reference internal" href="#woodchuck.Indicator" title="woodchuck.Indicator"><tt class="xref py py-class docutils literal"><span class="pre">Indicator</span></tt></a>.  Default: None.</li>
<li><strong>transferred_up</strong> &#8211; The number of bytes uploaded.  If not
known, set to None.  Default: None.</li>
<li><strong>transferred_down</strong> &#8211; The number of bytes downloaded.  If
not known, set to None.  Default: None.</li>
<li><strong>download_time</strong> &#8211; The time at which the update was
started.  If not known, set to None.  Default: None.</li>
<li><strong>download_duration</strong> &#8211; The amount of time the update took,
in seconds.  If not known, set to None.  Default: None.</li>
<li><strong>object_size</strong> &#8211; The amount of disk space used by the
object, in bytes.  If not known, set to None.  Default:
None.</li>
<li><strong>files</strong> &#8211; The files belong to the object.  An array of
arrays consisting of a filename (a string), a boolean
indicating whether the file is exclusive to the object,
and the file&#8217;s deletion policy (see
<a class="reference internal" href="#woodchuck.DeletionPolicy" title="woodchuck.DeletionPolicy"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DeletionPolicy</span></tt></a> for possible values).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example of reporting an object download for an object that
Woodchuck can deleted without consulting the user:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">download_time</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span>
<span class="o">...</span>
<span class="c"># Perform the download</span>
<span class="o">...</span>
<span class="n">download_duration</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span> <span class="p">())</span> <span class="o">-</span> <span class="n">download_time</span>
<span class="n">stream</span><span class="o">.</span><span class="n">update_status</span><span class="p">(</span>
    <span class="n">status</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">transferred_up</span><span class="o">=</span><span class="mi">4096</span><span class="p">,</span>
    <span class="n">transferred_down</span><span class="o">=</span><span class="mi">1024000</span><span class="p">,</span>
    <span class="n">download_time</span><span class="o">=</span><span class="n">download_time</span><span class="p">,</span>
    <span class="n">download_duration</span><span class="o">=</span><span class="n">download_duration</span><span class="p">,</span>
    <span class="n">files</span><span class="o">=</span><span class="p">(</span> <span class="p">(</span><span class="s">&quot;/home/user/Podcasts/Foo/Episode1.ogg&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span>
             <span class="n">woodchuck</span><span class="o">.</span><span class="n">DeletionPolicy</span><span class="o">.</span><span class="n">DeleteWithoutConsultation</span><span class="p">),))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Object.used">
<tt class="descname">used</tt><big>(</big><em>start=None</em>, <em>duration=None</em>, <em>use_mask=None</em><big>)</big><a class="headerlink" href="#woodchuck._Object.used" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the object as having been used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; The time at which the user started using the
object.  If unknown, pass None.  Default: None.</li>
<li><strong>duration</strong> &#8211; The amount of time the user used the object,
in seconds.  If unknown, pass None.  Default: None.</li>
<li><strong>use_mask</strong> &#8211; A 64-bit mask indicating the parts of the
object that were used.  Setting the least-significant bit
means that the first 1/64 of the object was used, the
second bit means that the second 1/64 of the object was
used, etc.  If unknown, pass None.  Default: None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: Indicate that that the first two minutes of an
hour-long video were viewed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">object</span><span class="o">.</span><span class="n">used</span><span class="p">(</span><span class="n">start_time</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mh">0x3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="woodchuck._Object.files_deleted">
<tt class="descname">files_deleted</tt><big>(</big><em>update=None</em>, <em>arg=None</em><big>)</big><a class="headerlink" href="#woodchuck._Object.files_deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that some or all of the object&#8217;s files have been
deleted.  This should be called whenever an object&#8217;s files are
deleted, not only in response to
<a class="reference internal" href="#woodchuck.Upcalls.object_delete_files_cb" title="woodchuck.Upcalls.object_delete_files_cb"><tt class="xref py py-func docutils literal"><span class="pre">Upcalls.object_delete_files_cb()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>update</strong> &#8211; Taken from <a class="reference internal" href="#woodchuck.DeletionResponse" title="woodchuck.DeletionResponse"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DeletionResponse</span></tt></a>.</li>
<li><strong>arg</strong> &#8211; <p>If update is DeletionResponse.Deleted, the value
is ignored.</p>
<p>If update is DeletionResponse.Refused, the value is the
minimum number of seconds the object should be preserved,
i.e., the minimum amount of time before Woodchuck should
call <a class="reference internal" href="#woodchuck.Upcalls.object_delete_files_cb" title="woodchuck.Upcalls.object_delete_files_cb"><tt class="xref py py-func docutils literal"><span class="pre">Upcalls.object_delete_files_cb()</span></tt></a> again.</p>
<p>If update is DeletionResponse.Compressed, the value is the
number of bytes of disk space the object now uses.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example: An email&#8217;s attachments are purged, but the body is
preserved:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">object</span><span class="o">.</span><span class="n">files_deleted</span> <span class="p">(</span><span class="n">woodchuck</span><span class="o">.</span><span class="n">DeletionResponse</span><span class="o">.</span><span class="n">Compressed</span><span class="p">,</span>
                      <span class="mi">2338</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="upcall">
<h3>Upcall<a class="headerlink" href="#upcall" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="woodchuck.Upcalls">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">Upcalls</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#woodchuck.Upcalls" title="Permalink to this definition">¶</a></dt>
<dd><p>A thin wrapper around org.woodchuck.upcalls.</p>
<p>To use this class, implement your own class, which inherits from
this one and overrides the virtual methods of the upcalls that you
are interested in (<a class="reference internal" href="#woodchuck.Upcalls.object_downloaded_cb" title="woodchuck.Upcalls.object_downloaded_cb"><tt class="xref py py-func docutils literal"><span class="pre">Upcalls.object_downloaded_cb()</span></tt></a>,
<a class="reference internal" href="#woodchuck.Upcalls.stream_update_cb" title="woodchuck.Upcalls.stream_update_cb"><tt class="xref py py-func docutils literal"><span class="pre">Upcalls.stream_update_cb()</span></tt></a>,
<a class="reference internal" href="#woodchuck.Upcalls.object_download_cb" title="woodchuck.Upcalls.object_download_cb"><tt class="xref py py-func docutils literal"><span class="pre">Upcalls.object_download_cb()</span></tt></a> and
<a class="reference internal" href="#woodchuck.Upcalls.object_delete_files_cb" title="woodchuck.Upcalls.object_delete_files_cb"><tt class="xref py py-func docutils literal"><span class="pre">object_delete_files_cb()</span></tt></a>).  Instantiate the class and then
call <tt class="xref py py-func docutils literal"><span class="pre">woodchuck.feedback_subscribe()</span></tt> to begin receiving
feedback.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Upcalls</span><span class="p">(</span><span class="n">woodchuck</span><span class="o">.</span><span class="n">Upcalls</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">object_downloaded_cb</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c"># Download the kwargs[object_UUID] object.</span>
        <span class="o">...</span>
<span class="n">upcalls</span> <span class="o">=</span> <span class="n">Upcalls</span> <span class="p">()</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="n">Manager</span><span class="o">.</span><span class="n">feedback_subscribe</span> <span class="p">(</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In order to process upcalls, <strong>your application must use a
main loop</strong>.  Moreover, DBus must know about the main loop.
If you are using glib, <strong>before accessing the session bus</strong>,
run:</p>
<blockquote>
<div>from dbus.mainloop.glib import DBusGMainLoop
DBusGMainLoop(set_as_default=True)</div></blockquote>
<p>or, if you are using Qt, run:</p>
<blockquote class="last">
<div>from dbus.mainloop.qt import DBusQtMainLoop
DBusQtMainLoop(set_as_default=True)</div></blockquote>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> &#8211; The object that will receive the upcalls from
woodchuck.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="woodchuck.Upcalls.object_downloaded_cb">
<tt class="descname">object_downloaded_cb</tt><big>(</big><em>manager_UUID</em>, <em>manager_cookie</em>, <em>stream_UUID</em>, <em>stream_cookie</em>, <em>object_UUID</em>, <em>object_cookie</em>, <em>status</em>, <em>instance</em>, <em>version</em>, <em>filename</em>, <em>size</em>, <em>trigger_target</em>, <em>trigger_fired</em><big>)</big><a class="headerlink" href="#woodchuck.Upcalls.object_downloaded_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in
org.woodchuck.upcall.ObjectDownloaded upcalls.</p>
<p>This upcall is invoked when Woodchuck downloads an object on
behalf of a manager.  This is only done for objects using the
simple downloader.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager_UUID</strong> &#8211; The manager&#8217;s UUID.</li>
<li><strong>manager_cookie</strong> &#8211; The manager&#8217;s cookie.</li>
<li><strong>stream_UUID</strong> &#8211; The stream&#8217;s UUID.</li>
<li><strong>stream_cookie</strong> &#8211; The stream&#8217;s cookie.</li>
<li><strong>object_UUID</strong> &#8211; The object&#8217;s UUID.</li>
<li><strong>object_cookie</strong> &#8211; The object&#8217;s cookie.</li>
<li><strong>status</strong> &#8211; Whether the download was successfully.  The
value is taken from <a class="reference internal" href="#woodchuck.DownloadStatus" title="woodchuck.DownloadStatus"><tt class="xref py py-class docutils literal"><span class="pre">woodchuck.DownloadStatus</span></tt></a>.</li>
<li><strong>instance</strong> &#8211; The number of download attempts (not
including this one).</li>
<li><strong>version</strong> &#8211; The version that was downloaded.  An array of:
the index in the version array, the URL, the expected
size, the utility and the value of use simple downloader.</li>
<li><strong>filename</strong> &#8211; The name of the file containing the data.</li>
<li><strong>size</strong> &#8211; The size of the file, in bytes.</li>
<li><strong>trigger_target</strong> &#8211; The time the application requested the
object be downloaded.</li>
<li><strong>trigger_fired</strong> &#8211; The time at which the file was actually
downloaded.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="woodchuck.Upcalls.stream_update_cb">
<tt class="descname">stream_update_cb</tt><big>(</big><em>manager_UUID</em>, <em>manager_cookie</em>, <em>stream_UUID</em>, <em>stream_cookie</em><big>)</big><a class="headerlink" href="#woodchuck.Upcalls.stream_update_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in
org.woodchuck.upcall.StreamUpdate upcalls.</p>
<p>This upcall is invoked when a stream should be updated.  The
application should update the stream and call
<a class="reference internal" href="#woodchuck._Stream.update_status" title="woodchuck._Stream.update_status"><tt class="xref py py-func docutils literal"><span class="pre">_Stream.update_status()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager_UUID</strong> &#8211; The manager&#8217;s UUID.</li>
<li><strong>manager_cookie</strong> &#8211; The manager&#8217;s cookie.</li>
<li><strong>stream_UUID</strong> &#8211; The stream&#8217;s UUID.</li>
<li><strong>stream_cookie</strong> &#8211; The stream&#8217;s cookie.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="woodchuck.Upcalls.object_download_cb">
<tt class="descname">object_download_cb</tt><big>(</big><em>manager_UUID</em>, <em>manager_cookie</em>, <em>stream_UUID</em>, <em>stream_cookie</em>, <em>object_UUID</em>, <em>object_cookie</em>, <em>version</em>, <em>filename</em>, <em>quality</em><big>)</big><a class="headerlink" href="#woodchuck.Upcalls.object_download_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in
org.woodchuck.upcall.ObjectDownload upcalls.</p>
<p>This upcall is invoked when Woodchuck downloads an object on
behalf of a manager.  This is only done for objects using the
simple downloader.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager_UUID</strong> &#8211; The manager&#8217;s UUID.</li>
<li><strong>manager_cookie</strong> &#8211; The manager&#8217;s cookie.</li>
<li><strong>stream_UUID</strong> &#8211; The stream&#8217;s UUID.</li>
<li><strong>stream_cookie</strong> &#8211; The stream&#8217;s cookie.</li>
<li><strong>object_UUID</strong> &#8211; The object&#8217;s UUID.</li>
<li><strong>object_cookie</strong> &#8211; The object&#8217;s cookie.</li>
<li><strong>version</strong> &#8211; The version to download.  An array of: the
index in the version array, the URL, the expected size,
the utility and the value of use simple downloader.</li>
<li><strong>filename</strong> &#8211; The name of the filename property.</li>
<li><strong>quality</strong> &#8211; The degree to which quality should be
sacrified to reduce the number of bytes transferred.  The
target quality of the download.  From 1 (most compressed)
to 5 (highest available fidelity).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="woodchuck.Upcalls.object_delete_files_cb">
<tt class="descname">object_delete_files_cb</tt><big>(</big><em>manager_UUID</em>, <em>manager_cookie</em>, <em>stream_UUID</em>, <em>stream_cookie</em>, <em>object_UUID</em>, <em>object_cookie</em><big>)</big><a class="headerlink" href="#woodchuck.Upcalls.object_delete_files_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Virtual method that should be implemented by the child
class if it is interested in
org.woodchuck.upcall.ObjectDeleteFiles upcalls.</p>
<p>This upcall is invoked when Woodchuck wants a manager to free
disk space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>manager_UUID</strong> &#8211; The manager&#8217;s UUID.</li>
<li><strong>manager_cookie</strong> &#8211; The manager&#8217;s cookie.</li>
<li><strong>stream_UUID</strong> &#8211; The stream&#8217;s UUID.</li>
<li><strong>stream_cookie</strong> &#8211; The stream&#8217;s cookie.</li>
<li><strong>object_UUID</strong> &#8211; The object&#8217;s UUID.</li>
<li><strong>object_cookie</strong> &#8211; The object&#8217;s cookie.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id4">
<h3>Constants<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="woodchuck.RequestType">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">RequestType</tt><a class="headerlink" href="#woodchuck.RequestType" title="Permalink to this definition">¶</a></dt>
<dd><p>Values for the request_type argument of
<a class="reference internal" href="#woodchuck._Object.download" title="woodchuck._Object.download"><tt class="xref py py-func docutils literal"><span class="pre">_Object.download()</span></tt></a>.</p>
<dl class="attribute">
<dt id="woodchuck.RequestType.UserInitiated">
<tt class="descname">UserInitiated</tt><a class="headerlink" href="#woodchuck.RequestType.UserInitiated" title="Permalink to this definition">¶</a></dt>
<dd><p>The user initiated the download request.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.RequestType.ApplicationInitiated">
<tt class="descname">ApplicationInitiated</tt><a class="headerlink" href="#woodchuck.RequestType.ApplicationInitiated" title="Permalink to this definition">¶</a></dt>
<dd><p>The application initiated the download request.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="woodchuck.DownloadStatus">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">DownloadStatus</tt><a class="headerlink" href="#woodchuck.DownloadStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Values for the Indicator argument of
<a class="reference internal" href="#woodchuck._Object.download_status" title="woodchuck._Object.download_status"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck._Object.download_status()</span></tt></a>,
<a class="reference internal" href="#woodchuck._Stream.update_status" title="woodchuck._Stream.update_status"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck._Stream.update_status()</span></tt></a> and
<a class="reference internal" href="#woodchuck.Upcalls.object_downloaded_cb" title="woodchuck.Upcalls.object_downloaded_cb"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck.Upcalls.object_downloaded_cb()</span></tt></a>.</p>
<dl class="attribute">
<dt id="woodchuck.DownloadStatus.Success">
<tt class="descname">Success</tt><a class="headerlink" href="#woodchuck.DownloadStatus.Success" title="Permalink to this definition">¶</a></dt>
<dd><p>The download was successful.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DownloadStatus.TransientOther">
<tt class="descname">TransientOther</tt><a class="headerlink" href="#woodchuck.DownloadStatus.TransientOther" title="Permalink to this definition">¶</a></dt>
<dd><p>An unspecified transient error occurred.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DownloadStatus.TransientNetwork">
<tt class="descname">TransientNetwork</tt><a class="headerlink" href="#woodchuck.DownloadStatus.TransientNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>A transient network error occured, e.g., the host was
unreachable.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DownloadStatus.TransientInterrupted">
<tt class="descname">TransientInterrupted</tt><a class="headerlink" href="#woodchuck.DownloadStatus.TransientInterrupted" title="Permalink to this definition">¶</a></dt>
<dd><p>A transient error occured during the transfer.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DownloadStatus.FailureOther">
<tt class="descname">FailureOther</tt><a class="headerlink" href="#woodchuck.DownloadStatus.FailureOther" title="Permalink to this definition">¶</a></dt>
<dd><p>An unspecified hard error occured.  Don&#8217;t try again.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DownloadStatus.FailureGone">
<tt class="descname">FailureGone</tt><a class="headerlink" href="#woodchuck.DownloadStatus.FailureGone" title="Permalink to this definition">¶</a></dt>
<dd><p>A hard error, the object is gone, occured.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="woodchuck.Indicator">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">Indicator</tt><a class="headerlink" href="#woodchuck.Indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Values for the Indicator argument of
<a class="reference internal" href="#woodchuck._Object.download_status" title="woodchuck._Object.download_status"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck._Object.download_status()</span></tt></a>,
<a class="reference internal" href="#woodchuck._Stream.update_status" title="woodchuck._Stream.update_status"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck._Stream.update_status()</span></tt></a>.</p>
<dl class="attribute">
<dt id="woodchuck.Indicator.Audio">
<tt class="descname">Audio</tt><a class="headerlink" href="#woodchuck.Indicator.Audio" title="Permalink to this definition">¶</a></dt>
<dd><p>An audio sound was emitted.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.ApplicationVisual">
<tt class="descname">ApplicationVisual</tt><a class="headerlink" href="#woodchuck.Indicator.ApplicationVisual" title="Permalink to this definition">¶</a></dt>
<dd><p>An visual notification was displayed in the application.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.DesktopSmallVisual">
<tt class="descname">DesktopSmallVisual</tt><a class="headerlink" href="#woodchuck.Indicator.DesktopSmallVisual" title="Permalink to this definition">¶</a></dt>
<dd><p>A small visual notification was displayed on the desktop, e.g.,
in the system tray.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.DesktopLargeVisual">
<tt class="descname">DesktopLargeVisual</tt><a class="headerlink" href="#woodchuck.Indicator.DesktopLargeVisual" title="Permalink to this definition">¶</a></dt>
<dd><p>A large visual notification was displayed on the desktop.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.ExternalVisual">
<tt class="descname">ExternalVisual</tt><a class="headerlink" href="#woodchuck.Indicator.ExternalVisual" title="Permalink to this definition">¶</a></dt>
<dd><p>An external visual notification was displayed, e.g., an LED was
blinked.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.Vibrate">
<tt class="descname">Vibrate</tt><a class="headerlink" href="#woodchuck.Indicator.Vibrate" title="Permalink to this definition">¶</a></dt>
<dd><p>The device vibrated.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.ObjectSpecific">
<tt class="descname">ObjectSpecific</tt><a class="headerlink" href="#woodchuck.Indicator.ObjectSpecific" title="Permalink to this definition">¶</a></dt>
<dd><p>The notification was object specific.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.StreamWide">
<tt class="descname">StreamWide</tt><a class="headerlink" href="#woodchuck.Indicator.StreamWide" title="Permalink to this definition">¶</a></dt>
<dd><p>The notification was stream-wide, i.e., an aggregate
notification for all updates in the stream.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.ManagerWide">
<tt class="descname">ManagerWide</tt><a class="headerlink" href="#woodchuck.Indicator.ManagerWide" title="Permalink to this definition">¶</a></dt>
<dd><p>The notification was manager-wide, i.e., an aggregate :
notification for multiple stream updates.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.Indicator.Unknown">
<tt class="descname">Unknown</tt><a class="headerlink" href="#woodchuck.Indicator.Unknown" title="Permalink to this definition">¶</a></dt>
<dd><p>It is unknown whether an indicator was shown.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="woodchuck.DeletionPolicy">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">DeletionPolicy</tt><a class="headerlink" href="#woodchuck.DeletionPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Values for the <cite>deletion_policy</cite> argument of
<a class="reference internal" href="#woodchuck._Object.download_status" title="woodchuck._Object.download_status"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck._Object.download_status()</span></tt></a>.</p>
<dl class="attribute">
<dt id="woodchuck.DeletionPolicy.Precious">
<tt class="descname">Precious</tt><a class="headerlink" href="#woodchuck.DeletionPolicy.Precious" title="Permalink to this definition">¶</a></dt>
<dd><p>The file is precious and will only be deleted by the user.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DeletionPolicy.DeleteWithoutConsultation">
<tt class="descname">DeleteWithoutConsultation</tt><a class="headerlink" href="#woodchuck.DeletionPolicy.DeleteWithoutConsultation" title="Permalink to this definition">¶</a></dt>
<dd><p>Woodchuck may delete the file without consulting the
application.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DeletionPolicy.DeleteWithConsultation">
<tt class="descname">DeleteWithConsultation</tt><a class="headerlink" href="#woodchuck.DeletionPolicy.DeleteWithConsultation" title="Permalink to this definition">¶</a></dt>
<dd><p>Woodchuck may ask the application to delete the file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="woodchuck.DeletionResponse">
<em class="property">class </em><tt class="descclassname">woodchuck.</tt><tt class="descname">DeletionResponse</tt><a class="headerlink" href="#woodchuck.DeletionResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Values for the Update arguments of
<a class="reference internal" href="#woodchuck._Object.files_deleted" title="woodchuck._Object.files_deleted"><tt class="xref py py-func docutils literal"><span class="pre">woodchuck._Object.files_deleted()</span></tt></a></p>
<dl class="attribute">
<dt id="woodchuck.DeletionResponse.Deleted">
<tt class="descname">Deleted</tt><a class="headerlink" href="#woodchuck.DeletionResponse.Deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>The files associated with the object were deleted.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DeletionResponse.Refused">
<tt class="descname">Refused</tt><a class="headerlink" href="#woodchuck.DeletionResponse.Refused" title="Permalink to this definition">¶</a></dt>
<dd><p>The application refuses to delete the object.</p>
</dd></dl>

<dl class="attribute">
<dt id="woodchuck.DeletionResponse.Compressed">
<tt class="descname">Compressed</tt><a class="headerlink" href="#woodchuck.DeletionResponse.Compressed" title="Permalink to this definition">¶</a></dt>
<dd><p>The application compressed the object, e.g., for an email, it</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<dl class="exception">
<dt id="woodchuck.Error">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">Error</tt><a class="headerlink" href="#woodchuck.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for exceptions in this model.  args[0] contains a
more detailed description of the error.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.GenericError">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">GenericError</tt><a class="headerlink" href="#woodchuck.GenericError" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, a DBus error
org.woodchuck.GenericError occured.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.NoSuchObject">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">NoSuchObject</tt><a class="headerlink" href="#woodchuck.NoSuchObject" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, a DBus error
org.freedesktop.DBus.Error.UnknownObject occured.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.ObjectExistsError">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">ObjectExistsError</tt><a class="headerlink" href="#woodchuck.ObjectExistsError" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, a DBus error
org.woodchuck.ObjectExists occured.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.NotImplementedError">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">NotImplementedError</tt><a class="headerlink" href="#woodchuck.NotImplementedError" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, a DBus error
org.woodchuck.MethodNotImplemented occured.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.InternalError">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">InternalError</tt><a class="headerlink" href="#woodchuck.InternalError" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, a DBus error
org.woodchuck.InternalError occured.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.InvalidArgsError">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">InvalidArgsError</tt><a class="headerlink" href="#woodchuck.InvalidArgsError" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, a DBus error
org.woodchuck.InvalidArgs occured.</p>
</dd></dl>

<dl class="exception">
<dt id="woodchuck.UnknownError">
<em class="property">exception </em><tt class="descclassname">woodchuck.</tt><tt class="descname">UnknownError</tt><a class="headerlink" href="#woodchuck.UnknownError" title="Permalink to this definition">¶</a></dt>
<dd><p>While invoking a Woodchuck method, an unknown DBus error with
prefix org.woodchuck occured.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Woodchuck</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#programming-model">Programming Model</a><ul>
<li><a class="reference internal" href="#case-studies">Case Studies</a><ul>
<li><a class="reference internal" href="#podcast-manager">Podcast Manager</a></li>
<li><a class="reference internal" href="#blog-reader">Blog Reader</a></li>
<li><a class="reference internal" href="#package-repository-updates">Package Repository Updates</a></li>
<li><a class="reference internal" href="#weather">Weather</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#dbus-interface">DBus Interface</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#c-library">C Library</a></li>
<li><a class="reference internal" href="#python-modules">Python Modules</a><ul>
<li><a class="reference internal" href="#pywoodchuck">pywoodchuck</a><ul>
<li><a class="reference internal" href="#id1">PyWoodchuck</a></li>
<li><a class="reference internal" href="#constants">Constants</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">woodchuck</a><ul>
<li><a class="reference internal" href="#id3">Woodchuck</a></li>
<li><a class="reference internal" href="#manager">Manager</a></li>
<li><a class="reference internal" href="#stream">Stream</a></li>
<li><a class="reference internal" href="#object">Object</a></li>
<li><a class="reference internal" href="#upcall">Upcall</a></li>
<li><a class="reference internal" href="#id4">Constants</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="org.woodchuck.html"
                        title="next chapter">org.woodchuck</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/woodchuck.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="org.woodchuck.html" title="org.woodchuck"
             >next</a> |</li>
        <li><a href="#">Woodchuck v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Neal H. Walfield.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>